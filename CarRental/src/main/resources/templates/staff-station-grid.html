<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω xe (D·∫°ng l∆∞·ªõi)</title>
    <link rel="stylesheet" th:href="@{/css/staff.css}">
</head>
<body>

<div class="staff-container">
    <nav class="sidebar-staff">
        <div class="logo">‚ö°Ô∏è EV Station</div>
        <ul>
            <li><a href="#">B·∫£ng ƒëi·ªÅu khi·ªÉn</a></li>
            <li><a th:href="@{/staff/station-grid}" class="active">Qu·∫£n l√Ω xe</a></li>
            <li><a th:href="@{/staff/receive}">Nh·∫≠n xe</a></li>
            <li><a th:href="@{/staff/deliver}">Giao xe</a></li>
            <li><a th:href="@{/staff/verify}">X√°c th·ª±c</a></li>
            <li><a th:href="@{/staff/vehicle-reports}">B√°o c√°o s·ª± c·ªë</a></li>
            <li><a th:href="@{/logout}">ƒêƒÉng xu·∫•t</a></li>
        </ul>
    </nav>

    <div class="main-content-staff">
        <header class="content-header-staff">
            <div class="header-title">Qu·∫£n l√Ω xe t·∫°i ƒëi·ªÉm: Q.1</div>
        </header>

        <main class="content-body-staff">

            <div class="page-header-filters">
                <div class="search-box">
                    <label for="searchInput">T√¨m ki·∫øm xe</label>
                    <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm theo bi·ªÉn s·ªë xe...">
                </div>
                <div class="filter-group" style="margin-left: auto;">
                    <label>&nbsp;</label>
                    <button id="addVehicleBtn" class="btn btn-primary">+ Th√™m xe m·ªõi t·∫°i ƒëi·ªÉm</button>
                </div>
            </div>

            <div class="vehicle-grid-container" id="vehicle-grid">
            </div>

        </main>
    </div>
</div>

<div id="updateVehicleModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>C·∫≠p nh·∫≠t th√¥ng tin xe</h2>
            <button type="button" class="close-btn" onclick="closeUpdateModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>Bi·ªÉn s·ªë xe:</label>
                <input type="text" id="modalPlate" disabled>
            </div>
            <div class="form-group">
                <label>M·ª©c pin (%):</label>
                <input type="number" id="modalBattery" min="0" max="100" step="5">
            </div>
            <div class="form-group">
                <label>Tr·∫°ng th√°i:</label>
                <select id="modalBookingStatus">
                    <option value="PENDING_PAYMENT">Ch·ªù thanh to√°n</option>
                    <option value="AVAILABLE">S·∫µn s√†ng</option>
                    <option value="MAINTENANCE">Ch∆∞a s·∫µn s√†ng / B·∫£o tr√¨</option>
                    <option value="RENTED">ƒêang ƒë∆∞·ª£c thu√™</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeUpdateModal()">H·ªßy</button>
            <button type="button" class="btn btn-primary" onclick="saveVehicleUpdate()">L∆∞u</button>
        </div>
    </div>
</div>

<!-- Modal b√°o c√°o s·ª± c·ªë -->
<div id="reportIssueModal" class="modal report-modal">
    <div class="modal-content report-modal-content">
        <div class="modal-header report-modal-header">
            <h2>üìã B√°o c√°o s·ª± c·ªë</h2>
            <button type="button" class="close-btn" onclick="closeReportModal()">&times;</button>
        </div>
        <div class="modal-body report-modal-body">
            <div class="form-group">
                <label>Bi·ªÉn s·ªë xe:</label>
                <input type="text" id="reportModalPlate" disabled class="plate-input">
            </div>
            <div class="form-group">
                <label for="issueDescription">M√¥ t·∫£ s·ª± c·ªë:</label>
                <textarea id="issueDescription" placeholder="Nh·∫≠p chi ti·∫øt s·ª± c·ªë..." rows="5" class="issue-textarea"></textarea>
            </div>
            <div class="form-group">
                <label for="issueSeverity">M·ª©c ƒë·ªô nghi√™m tr·ªçng:</label>
                <select id="issueSeverity" class="severity-select">
                    <option value="MINOR">Nh·∫π</option>
                    <option value="MODERATE">Trung b√¨nh</option>
                    <option value="CRITICAL">Nghi√™m tr·ªçng</option>
                </select>
            </div>
        </div>
        <div class="modal-footer report-modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeReportModal()">H·ªßy</button>
            <button type="button" class="btn btn-danger" onclick="submitIssueReport()">B√°o c√°o</button>
        </div>
    </div>
</div>

<script th:src="@{/js/staff-station-grid.js}"></script>

</body>
</html>