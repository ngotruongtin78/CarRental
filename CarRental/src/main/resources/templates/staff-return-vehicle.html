<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nh·∫≠n xe</title>
    <link rel="stylesheet" th:href="@{/css/staff.css}">
</head>
<body>

<div class="staff-container">
    <nav class="sidebar-staff">
        <div class="logo">‚ö°Ô∏è EV Station</div>
        <ul>
            <li><a href="/staff/station-grid">B·∫£ng ƒëi·ªÅu khi·ªÉn</a></li>
            <li><a th:href="@{/staff/station-grid}">Qu·∫£n l√Ω xe</a></li>
            <li><a th:href="@{/staff/return}" class="active">Nh·∫≠n xe</a></li>
            <li><a th:href="@{/staff/deliver}">Giao xe</a></li>
            <li><a th:href="@{/staff/verify}">X√°c th·ª±c</a></li>
            <li><a th:href="@{/staff/vehicle-reports}">B√°o c√°o s·ª± c·ªë</a></li>
            <li><a th:href="@{/logout}">ƒêƒÉng xu·∫•t</a></li>
        </ul>
    </nav>

    <div class="main-content-staff">
        <header class="content-header-staff">
            <div class="header-title">Nh·∫≠n xe</div>
        </header>

        <main class="content-body-staff">

            <!-- Section T√¨m ki·∫øm -->
            <div class="deliver-search-section">
                <div class="search-row">
                    <div class="search-group">
                        <label for="searchPlate">T√¨m ki·∫øm theo bi·ªÉn s·ªë:</label>
                        <input type="text" id="searchPlate" class="search-input" placeholder="Nh·∫≠p bi·ªÉn s·ªë...">
                    </div>
                    <div class="search-group">
                        <label for="searchCustomer">T√¨m ki·∫øm theo t√™n:</label>
                        <input type="text" id="searchCustomer" class="search-input" placeholder="Nh·∫≠p t√™n kh√°ch h√†ng...">
                    </div>
                </div>
            </div>

            <!-- B·∫£ng danh s√°ch tr·∫£ xe -->
            <div class="deliver-table-section">
                <table class="deliver-table">
                    <thead>
                        <tr>
                            <th>Bi·ªÉn s·ªë xe</th>
                            <th>Lo·∫°i xe</th>
                            <th>T√™n ng∆∞·ªùi thu√™</th>
                            <th>Ng√†y thu√™</th>
                            <th>Tr·∫°ng th√°i thanh to√°n</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody id="returnTableBody">
                        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c t·∫£i t·ª´ API -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>

<!-- Modal Tr·∫£ xe -->
<div id="returnModal" class="modal">
    <div class="modal-content deliver-modal-content">
        <div class="modal-header deliver-modal-header">
            <h2>Chi ti·∫øt h·ª£p ƒë·ªìng</h2>
            <button type="button" class="close-btn" onclick="closeReturnModal()">&times;</button>
        </div>
        <div class="modal-body deliver-modal-body">
            <!-- Ph·∫ßn 1: Th√¥ng tin xe v√† kh√°ch h√†ng -->
            <div class="modal-section">
                <div class="form-grid-2">
                    <div class="form-group">
                        <label>Bi·ªÉn s·ªë xe:</label>
                        <input type="text" id="returnPlate" disabled>
                    </div>
                    <div class="form-group">
                        <label>Lo·∫°i xe:</label>
                        <input type="text" id="returnVehicleType" disabled>
                    </div>
                </div>
                <div class="form-group">
                    <label>T√™n ng∆∞·ªùi thu√™:</label>
                    <input type="text" id="returnCustomer" disabled>
                </div>
            </div>

            <!-- Ph·∫ßn 2: Th√¥ng tin thu√™ xe -->
            <div class="modal-section">
                <h3 class="modal-section-title">üìÖ Th√¥ng tin thu√™ xe</h3>
                <div class="form-grid-3">
                    <div class="form-group">
                        <label>Ng√†y b·∫Øt ƒë·∫ßu:</label>
                        <input type="text" id="returnStartDate" disabled>
                    </div>
                    <div class="form-group">
                        <label>Ng√†y k·∫øt th√∫c:</label>
                        <input type="text" id="returnEndDate" disabled>
                    </div>
                    <div class="form-group">
                        <label>S·ªë ng√†y:</label>
                        <input type="text" id="returnRentalDays" disabled>
                    </div>
                </div>
            </div>

            <!-- Ph·∫ßn 3: Th√¥ng tin thanh to√°n -->
            <div class="modal-section">
                <h3 class="modal-section-title">üí≥ Th√¥ng tin thanh to√°n</h3>
                <div class="form-grid-2">
                    <div class="form-group">
                        <label>T·ªïng ti·ªÅn:</label>
                        <input type="text" id="returnTotal" disabled>
                    </div>
                    <div class="form-group">
                        <label>Tr·∫°ng th√°i TT:</label>
                        <input type="text" id="returnPaymentStatus" disabled>
                    </div>
                </div>
            </div>

            <!-- Ph·∫ßn 3b: D·ªØ li·ªáu check-in / y√™u c·∫ßu tr·∫£ -->
            <div class="modal-section">
                <h3 class="modal-section-title">üìç Th√¥ng tin nh·∫≠n v√† tr·∫£ xe</h3>
                <div class="form-grid-2">
                    <div class="form-group">
                        <label>Th·ªùi gian check-in:</label>
                        <input type="text" id="returnCheckinTime" disabled>
                    </div>
                    <div class="form-group">
                        <label>V·ªã tr√≠ check-in:</label>
                        <input type="text" id="returnCheckinLoc" disabled>
                    </div>
                    <div class="form-group">
                        <label>Th·ªùi gian y√™u c·∫ßu tr·∫£:</label>
                        <input type="text" id="returnRequestTime" disabled>
                    </div>
                    <div class="form-group">
                        <label>V·ªã tr√≠ y√™u c·∫ßu tr·∫£:</label>
                        <input type="text" id="returnRequestLoc" disabled>
                    </div>
                    <div class="form-group">
                        <label>Ghi ch√∫ t·ª´ kh√°ch:</label>
                        <input type="text" id="returnCustomerNote" disabled>
                    </div>
                </div>
            </div>

            <!-- Ph·∫ßn 4: Ph√≠ h∆∞ h·ªèng & ghi ch√∫ -->
            <div class="modal-section">
                <h3 class="modal-section-title">üí∏ Ph√≠ h∆∞ h·ªèng & ghi ch√∫</h3>
                <div class="form-grid-2">
                    <div class="form-group">
                        <label>Ph√≠ h∆∞ h·ªèng:</label>
                        <input type="number" id="returnDamageFee" min="0" step="0.01" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>Ghi ch√∫:</label>
                        <input type="text" id="returnNote" placeholder="Ghi ch√∫ (t√πy ch·ªçn)">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeReturnModal()">H·ªßy</button>
            <button type="button" class="btn btn-primary" onclick="confirmReturn()">X√°c nh·∫≠n tr·∫£</button>
        </div>
    </div>
</div>

<script th:src="@{/js/staff-return-vehicle.js}"></script>

</body>
</html>

